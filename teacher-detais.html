<!doctype html>
<html lang="en">

<head>
    <title>Kido-Teacher-Store</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>

<body>


    <header id="header-wrap">

        <nav class="navbar navbar-expand-lg navbar-light bg-color fixed-top py-2">
            <div class="container">
                <a href="index.html" class="navbar-brand"><img src="images/head-img.png" width="250" alt="Responsive image"></a>

                <div class=" navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mr-auto w-100 justify-content-end clearfix">
                      <li class="nav-item home_nav active pl-4"><a class="nav-link" href="teacher-detais.html"><i class="fas fa-user-circle"></i> Profile Details</a></li>
                        <li class="nav-item home_nav active pl-4"><a class="nav-link logged-user"></a></li>
                        <li class="nav-item home_nav active px-4"><a class="nav-link logout">logout</a></li>
                    </ul>
                </div>
                <div class="add-to-cart">
                    <a href="cart.html" class="href"><div class="cart icon1">
                        <i class="fas fa-shopping-cart">
                        <span class="cart-count">0</span></i><br>
                        <span class="text-white">&#8377; &nbsp;</span><span class="cart_amount text-white">0</span>
                    </div></a>
                </div>
            </div>
        </nav>

    </header>

  <section class="teacher-details py-5" id="cart-list1">
      <div class="container">
        <div id="spinner"></div>
          <div class="row justify-content-center">
                <div class="col-lg-12">
                    <div class="border bg-white p-5">
                        <h2 class="t-text pb-3">Profile Details</h2>
                    <form id="validate" enctype="multipart/form-data">        
                        <div class="form-group">
                            <label for="exampleInputEmail1">Name</label>
                            <input type="text" class="form-control" id="name" name="name" placeholder="Enter Your Name">
                        </div>
                        <div class="form-group">
                            <label for="description">Description</label>
                            <textarea type="text" class="form-control" id="description" name="description" placeholder="Enter Description"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="adhar_img">Adhar Card Image <small class="text-warning">Note: image should be in png or jpg</small></label>
                            <div class="custom-file">
                            <input type="file" class="custom-file-input" name="adhar_img" id="adhar_img">
                            <label class="custom-file-label" for="adhar_img">Upload Adhar Card</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="cv_file">CV File <small class="text-warning">Note: file should be in Pdf</small></label>
                            <div class="custom-file">
                            <input type="file" class="custom-file-input" name="cv_file" id="cv_file">
                            <label class="custom-file-label" for="cv_file">Upload CV</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="pod_img1">POD Image1 <small class="text-warning">Note: image should be in png or jpg</small></label>
                            <div class="custom-file">
                            <input type="file" class="custom-file-input" name="pod_img1" id="pod_img1">
                            <label class="custom-file-label" for="pod_img1">Upload PDO Image1</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="pod_img2">POD Image2 <small class="text-warning">Note: image should be in png or jpg</small></label>
                            <div class="custom-file">
                            <input type="file" class="custom-file-input" name="pod_img2" id="pod_img2">
                            <label class="custom-file-label" for="pod_img2">Upload PDO Image2</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="pod_img3">POD Image3 <small class="text-warning">Note: image should be in png or jpg</small></label>
                            <div class="custom-file">
                            <input type="file" class="custom-file-input" name="pod_img3" id="pod_img3">
                            <label class="custom-file-label" for="pod_img3">Upload PDO Image3</label>
                            </div>
                        </div>
                        <button type="submit" id="form_submit" class="btn btn-primary">Submit</button>
                      </form>
                    </div>
                </div>
          </div>
      </div>
  </section>

    <!-- footer start -->
    <footer>

    </footer>
    <!-- footer end -->

    <button onclick="topFunction()" id="myBtn" title="Go to top" class="topbtn shadow px-3 py-2 rounded"><i class="fa fa-angle-up"></i></button>
 <!-- Optional JavaScript -->
 <!-- jQuery first, then Popper.js, then Bootstrap JS -->
 <!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->
 <script src="js/bootstrap.bundle.min.js"></script>

  <script src="https://jqueryvalidation.org/files/dist/jquery.validate.min.js"></script>
  <script src="https://jqueryvalidation.org/files/dist/additional-methods.min.js"></script>
  <script src="common.js"></script>
 <script>
     $(document).ready(function() {

        $("#validate").validate({
                rules:{
                    name:{
                        required:true,
                    }, 
                    description:{
                        required:true,
                    },               
                    adhar_img:{
                        required:true,
                        extension: "png|jpg"
                    },   
                    cv_file:{
                        required:true,
                        extension: "pdf|doc"
                    },  
                    pod_img1:{
                        extension: "png|jpg",
                    },   
                    pod_img2:{
                        extension: "png|jpg",
                    }, 
                    pod_img3:{
                        extension: "png|jpg",
                    },
                },

                messages:{
                    name:{
                        required:"This field is required",
                    },
                    description:{
                        required:"This field is required",
                    },
                    adhar_img:{
                        required:"This field is required",
                        extension:"Please enter a image with png or jpg extension"
                    },
                    cv_file:{
                        required:"This field is required",
                        extension:"Please enter a image with pdf extension"
                    },
                    pod_img1:{
                        extension:"Please enter a image with png or jpg extension",
                    },
                    pod_img2:{
                        extension:"Please enter a image with png or jpg extension",
                    },
                    pod_img3:{
                        extension:"Please enter a image with png or jpg extension",
                    },
                }
        });

        $('#adhar_img').on('change',function(){
                //get the file name
                var fileName = $(this).val();
                //replace the "Choose a file" label
                var current_path = fileName.split("\\").pop();
                $(this).next('.custom-file-label').html(current_path);
            })

            $('#cv_file').on('change',function(){
                //get the file name
                var fileName = $(this).val();
                //replace the "Choose a file" label
                var current_path = fileName.split("\\").pop();
                $(this).next('.custom-file-label').html(current_path);
            })

            $('#pod_img1').on('change',function(){
                //get the file name
                var fileName = $(this).val();
                //replace the "Choose a file" label
                var current_path = fileName.split("\\").pop();
                $(this).next('.custom-file-label').html(current_path);
            })

            $('#pod_img2').on('change',function(){
                //get the file name
                var fileName = $(this).val();
                //replace the "Choose a file" label
                var current_path = fileName.split("\\").pop();
                $(this).next('.custom-file-label').html(current_path);
            })

            $('#pod_img3').on('change',function(){
                //get the file name
                var fileName = $(this).val();
                //replace the "Choose a file" label
                var current_path = fileName.split("\\").pop();
                $(this).next('.custom-file-label').html(current_path);
            })

    });


var server = ((document.location.host).indexOf("localhost") !== -1) ? "http://localhost/api-kido-teacher-store/api.php" : "https://shop.kidovillage.com/kvshop_api/api.php";
    // On Load
$(function () {
    'use strict';
    
    $('#form_submit').on('click', function (event) {
        var data;
        
        event.stopPropagation();
        event.preventDefault();
        var form = new FormData();
        form.append("api", "upload_file");
        $("#adhar_img")[0].files.length ? form.append("adhar_img", $("#adhar_img")[0].files[0]) : false;
        $("#cv_file")[0].files.length ? form.append("cv_file", $("#cv_file")[0].files[0]) : false;
        $("#pod_img1")[0].files.length ? form.append("pod_img1", $("#pod_img1")[0].files[0]) : false;
        $("#pod_img2")[0].files.length ? form.append("pod_img2", $("#pod_img2")[0].files[0]) : false;
        $("#pod_img3")[0].files.length ? form.append("pod_img3", $("#pod_img3")[0].files[0]) : false;
        form.append("id", "1");
        form.append("name", $("#name").val());
        form.append("description", $("#description").val());
        var user = local_get('user');
        form.append("email", user[0].email);

        var settings = {
        "url": server,
        "method": "POST",
        "timeout": 0,
        "processData": false,
        "mimeType": "multipart/form-data",
        "contentType": false,
        "data": form,
        success: function (response) {
            // window.location = "thankyou-msg.html"
            alert("completed");
        },
        error: function (xhr, ajaxOptions, thrownError) {
            alert(xhr.status);
            alert(thrownError);
        }
        };

        $.ajax(settings);

    });
    
});



</script>
 </body>

 </html>
